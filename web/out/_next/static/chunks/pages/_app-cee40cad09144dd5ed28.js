_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[19],{0:function(e,t,n){n("GcxT"),e.exports=n("nOHt")},"1TCz":function(e,t,n){"use strict";n.r(t);var r=n("rePB"),c=n("nKUr"),o=n("ODXe"),s=(n("zPlV"),n("q1tI")),i=n("YFqc"),a=n.n(i),l=n("20a2"),u=n("HEOa"),j=n("RW2Z"),b=n("pGKQ"),d=(n("6lE0"),function(e){var t=e.notification,n=e.onDiscard;return Object(c.jsxs)("div",{className:"flex flex-row space-x-2 items-center cursor-default text-xs",children:[Object(c.jsx)("div",{className:"text-lg ".concat(!t.read&&"text-red-700"),children:"!"}),Object(c.jsx)("div",{className:"truncate",children:t.content}),Object(c.jsx)("span",{className:"flex-grow"}),Object(c.jsx)("button",{onClick:n,className:"opacity-70 hover:opacity-100",children:Object(c.jsx)(j.b,{})})]})});function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){Object(r.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var p=function(){var e=Object(u.d)(),t=e.notifications,n=e.updateNotifications,r=e.readAllNotifications,o=e.discardNotification,i=Object(s.useState)(!1),a=i[0],l=i[1],f=Object(s.useState)(!0),p=f[0],x=f[1],h=Object(s.useMemo)((function(){return t.filter((function(e){return!e.read})).length}),[t]);Object(s.useEffect)((function(){var e=setInterval(n,1e3);return function(){return clearInterval(e)}}),[n]),Object(s.useEffect)((function(){a||(p?x(!1):r())}),[a,r]);var g=Object(b.c)({isOpen:a,onOutsideClick:function(){return l(!1)},placement:"bottom-end",triggerOffset:8,arrowOffset:8}),v=g.triggerProps,m=g.layerProps,y=g.renderLayer;return Object(c.jsxs)("div",{children:[Object(c.jsx)("button",O(O({},v),{},{onClick:function(){return l(!a)},children:Object(c.jsxs)("span",{className:"relative inline-block",children:[Object(c.jsx)(j.c,{}),h>0&&Object(c.jsx)("span",{class:"absolute text-xs top-0 right-0 transform translate-x-1/2 -translate-y-1/2 px-1 bg-red-600 rounded-lg",children:h})]})})),a&&y(Object(c.jsx)("div",O(O({},m),{},{children:Object(c.jsx)("div",{className:"flex flex-col space-y-1  p-2 bg-blue-50 border border-gray-700 text-sm rounded-md w-72 shadow  max-h-48 overflow-scroll text-white",children:t.length>0?t.map((function(e){return Object(c.jsx)(d,{notification:e,onDiscard:function(){return o(e.id)}})})):"No new notifications."})})))]})},x=n("33Fu");function h(e,t,n,r){var c,o=!1,s=0;function i(){c&&clearTimeout(c)}function a(){for(var a=arguments.length,l=new Array(a),u=0;u<a;u++)l[u]=arguments[u];var j=this,b=Date.now()-s;function d(){s=Date.now(),n.apply(j,l)}function f(){c=void 0}o||(r&&!c&&d(),i(),void 0===r&&b>e?d():!0!==t&&(c=setTimeout(r?f:d,void 0===r?e-b:e)))}return"boolean"!==typeof t&&(r=n,n=t,t=void 0),a.cancel=function(){i(),o=!0},a}var g=n("40OB"),v=function(e){var t=e.searchResults,n=e.searchType,r=e.isLoadingResults,o=Object(l.useRouter)(),i=Object(s.useCallback)((function(e){return"coin"===n?"/coin-info?coin="+e:"group"===n?"/source-info?source="+e:"user"===n?"/user-info?user="+e:"#"}),[n]),u=Object(s.useState)(-1),j=u[0],b=u[1];Object(s.useCallback)((function(){o.push(i(t[j]))}),[i,t,j]),Object(s.useCallback)((function(e){b((function(n){return(n+e+t.length)%t.length}))}),[t,j]);return t&&t.length>0&&t.map((function(e,t){return Object(c.jsx)("div",{className:"px-2 py-2 ".concat(t===j&&"bg-gray-900"," text-sm ").concat(r&&"opacity-50"),onMouseEnter:function(){return b(t)},children:Object(c.jsx)(a.a,{href:i(e),children:e})})}))};function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){Object(r.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var w=function(){var e,t,n,r=Object(s.useState)("group"),o=r[0],i=r[1],a=Object(s.useState)(""),l=a[0],u=a[1],j=Object(g.b)([],"search",{type:o,query:l},[],(function(e){return""!==e[1]})),d=j.result,f=j.isLoading,O=Object(s.useState)(!1),p=O[0],m=O[1],w=(e=500,t=u,void 0===n?h(e,t,!1):h(e,n,!1!==t)),N=Object(s.useCallback)((function(){i("coin"===o?"group":"group"===o?"user":"coin")}),[o]),P=Object(b.c)({isOpen:p,onOutsideClick:function(){return m(!1)},placement:"bottom-start",triggerOffset:8}),D=P.triggerProps,k=P.layerProps,E=P.renderLayer;return Object(c.jsxs)("div",{className:"".concat("w-72"," text-sm"),children:[Object(c.jsxs)("div",y(y({},D),{},{className:"flex flex-row space-x-2 focus:outline-none h-8 overflow-hidden\n                    border ".concat(p?"border-gray-400":"border-gray-800"," rounded"),onFocus:function(){m(!0)},children:[Object(c.jsx)("input",{type:"text",className:"shadow p-2 focus:outline-none flex-grow bg-transparent text-gray-200",onChange:function(e){return w(e.target.value)},placeholder:"Type to search..."}),p&&Object(c.jsxs)("button",{className:"p-2 truncate text-xs flex-none text-gray-200 z-50 focus:outline-none",onClick:N,children:["in ",o,"s"]})]})),p&&E(Object(c.jsx)("div",y(y({},k),{},{className:"w-72 text-gray-200",children:Object(c.jsxs)("div",{className:"flex flex-col bg-blue-50 max-h-64 overflow-scroll \n                          border border-gray-400 shadow-lg space-y-1 rounded-md\n                          ".concat(""===l&&"hidden"),children:[Object(c.jsx)(v,{searchResults:d,searchType:o,isLoadingResults:f}),0===d.length&&Object(c.jsx)("div",{className:"px-2 py-2 text-gray-500 text-sm",children:"No results"}),f&&Object(c.jsx)("div",{className:"absolute top-1 left-2",children:Object(c.jsx)(x.a,{className:"animate-spin"})})]})})))]})},N=n("ma3e"),P=(n("0PHq"),n("v7au"));function D(){var e=Object(u.d)(),t=e.loggedIn,n=e.logout,r=e.username;return Object(c.jsxs)("div",{className:"flex flex-row items-center w-100 space-x-8 px-8 bg-blue-50 h-16 text-gray-300 font-semibold text-sm",children:[Object(c.jsx)("div",{className:"text-3xl text-yellow-50 animate-pulse",children:Object(c.jsx)(P.b,{})}),t?Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("div",{children:Object(c.jsx)(w,{})}),Object(c.jsx)("div",{children:Object(c.jsx)(a.a,{href:"/dashboard",children:"Dashboard"})}),Object(c.jsx)("div",{children:Object(c.jsx)(a.a,{href:"/search-coins",children:"Coins"})}),Object(c.jsx)("div",{children:Object(c.jsx)(a.a,{href:"/search-sources",children:"Sources"})}),Object(c.jsx)("span",{className:"flex-grow"}),Object(c.jsx)("div",{className:"pt-1",children:Object(c.jsx)(p,{})}),Object(c.jsx)(a.a,{href:"/profile",children:Object(c.jsxs)("div",{className:"flex flex-row items-center space-x-2  cursor-pointer",children:[Object(c.jsx)("div",{children:Object(c.jsx)(N.e,{})}),Object(c.jsx)("div",{children:r})]})}),Object(c.jsx)("button",{onClick:n,className:"bg-yellow-50 text-blue-50 rounded py-2 px-4",children:"Logout"})]}):Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("span",{className:"flex-grow"}),Object(c.jsx)("div",{children:Object(c.jsx)(a.a,{href:"/",children:"Home"})}),Object(c.jsx)("div",{children:Object(c.jsx)(a.a,{href:"/login",children:"Log In"})}),Object(c.jsx)("button",{className:"bg-yellow-50 text-blue-50 py-2 px-4 rounded",children:Object(c.jsx)(a.a,{href:"/signup",children:"Sign Up"})})]})]})}function k(e){var t=e.children;e.loggedIn;return Object(c.jsxs)("div",{className:"flex flex-col h-screen",children:[Object(c.jsx)("div",{className:"flex-none",children:Object(c.jsx)(D,{})}),Object(c.jsx)("div",{className:"flex-grow",children:t})]})}var E=n("r5vi");function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(Object(n),!0).forEach((function(t){Object(r.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}t.default=function(e){var t=e.Component,n=e.pageProps,r=Object(E.a)(),s=Object(o.a)(r,2),i=s[0];return s[1],n.loggedIn="token"in i,n.token=i.token,Object(c.jsx)(u.a,{children:Object(c.jsx)(k,C(C({},n),{},{children:Object(c.jsx)(t,C({},n))}))})}},"40OB":function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return l}));var r=n("KQm4"),c=n("vDqi"),o=n.n(c),s=n("q1tI"),i=n("LcVh"),a=function(e,t,n){o.a.get(i.a+"/api/"+e,{params:t}).then((function(e){n(e.data)}))},l=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:function(e){return!0},i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:function(e){return e},l=Object(s.useState)(e),u=l[0],j=l[1],b=Object(s.useState)(!1),d=b[0],f=b[1],O=Object(s.useMemo)((function(){return Object.values(n)}),[n]);return Object(s.useEffect)((function(){o(O)&&(f(!0),a(t,n,(function(e){j(i(e))})))}),[].concat(Object(r.a)(O),Object(r.a)(c))),Object(s.useEffect)((function(){f(!1)}),[u]),{result:u,isLoading:d}}},GcxT:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/_app",function(){return n("1TCz")}])},KQm4:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("a3WO");var c=n("BsWD");function o(e){return function(e){if(Array.isArray(e))return Object(r.a)(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||Object(c.a)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},zPlV:function(e,t,n){}},[[0,0,2,4,6,3,7,8,11,1,5,10]]]);