_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[21],{"1v5r":function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/change-password",function(){return r("Fbh+")}])},"5m8r":function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));var n=r("nKUr"),a=r("ODXe"),c=r("q1tI"),o=function(e){var t=e.label,r=e.placeholder,o=e.type,s=e.errorMsg,l=e.isDisabled,u=void 0!==l&&l,i=e.checker,d=void 0===i?function(){return[!0,null]}:i,f=e.setCorrectValue,b=Object(c.useState)(""),p=b[0],h=b[1],v=Object(c.useState)(!1),j=v[0],x=v[1],m=Object(c.useState)(!0),g=m[0],w=m[1],O=Object(c.useState)(""),y=O[0],E=O[1];return Object(c.useEffect)((function(){if(j&&!g){var e=d(p),t=Object(a.a)(e,2),r=t[0],n=t[1];r?(E(""),f(p)):(E(n),f(null))}})),Object(c.useEffect)((function(){w(!0),E(s)}),[s]),Object(c.useEffect)((function(){w(!1)}),[p]),Object(n.jsxs)("div",{class:"flex flex-col space-y-2",children:[Object(n.jsxs)("label",{className:"block text-gray-700 text-md font-bold mb-2",children:[t,Object(n.jsx)("input",{type:o,placeholder:r,onFocus:function(){return x(!0)},disabled:u,value:p,onChange:function(e){return h(e.currentTarget.value)},className:"mt-1 shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight\n            ".concat(""!==y?"border-red-500":null)})]}),Object(n.jsx)("p",{class:"text-red-500 text-xs italic mt-2 ml-1",children:y})]})}},"Fbh+":function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return b}));var n=r("nKUr"),a=r("vDqi"),c=r.n(a),o=r("20a2"),s=r("q1tI"),l=r("33Fu"),u=r("5m8r"),i=r("HEOa"),d=r("YFqc"),f=r.n(d);function b(){var e=Object(o.useRouter)(),t=Object(i.d)(),r=(t.updateUser,t.fetch,Object(s.useState)(null)),a=r[0],d=r[1],b=Object(s.useState)(null),p=b[0],h=b[1],v=Object(s.useState)(""),j=v[0],x=(v[1],Object(s.useState)("")),m=x[0],g=x[1],w=Object(s.useState)(!1),O=w[0],y=(w[1],Object(s.useCallback)((function(e){return""===e?[!1,"This field is required."]:e.length<5?[!1,"Too short."]:[!0,null]}),[])),E=Object(s.useMemo)((function(){return a&&p}),[a,p]),N=Object(s.useCallback)((function(t){t.preventDefault();c.a.post("http://127.0.0.1:5000/user/reset_password",{password:a,code:e.query.code}),g("Password Changed")}),[a]);return Object(n.jsx)("div",{className:"min-h-screen flex flex-col animate-fade-in-down",children:Object(n.jsx)("div",{className:"p-5 md:p-0 mx-auto md:w-full md:max-w-md",children:Object(n.jsxs)("div",{className:"px-5 py-7",children:[Object(n.jsx)("div",{className:"rounded-t-lg bg-white py-5 px-5 shadow-lg",children:Object(n.jsx)("h1",{className:"font-bold text-center text-2xl",children:"Change Password"})}),Object(n.jsxs)("form",{class:"bg-gray-50 rounded-b-lg border-t border-b border-gray-200 pt-6 px-6 shadow-lg",children:[""!==m?Object(n.jsx)("div",{class:"animate-fade-in-down bg-green-100 border border-green-400 text-sm text-green-700 px-4 py-3 mb-3 rounded relative",role:"alert",children:m}):null,""!==j?Object(n.jsx)("div",{class:"animate-fade-in-down bg-red-100 border border-red-400 text-sm text-red-700 px-4 py-3 mb-3 rounded relative",role:"alert",children:j}):null,Object(n.jsxs)("div",{class:"flex flex-col space-y-2 pb-8",children:[Object(n.jsx)(u.a,{type:"password",label:"Enter New Password",placeholder:"New password",errorMsg:"",isDisabled:O,checker:y,setCorrectValue:d}),Object(n.jsx)(u.a,{type:"password",label:"Password (again)",placeholder:"Re-enter your new password",errorMsg:"",isDisabled:O,checker:function(e){return[e===a,"Passwords do not match"]},setCorrectValue:h}),Object(n.jsx)("button",{type:"submit",disabled:!E||O,onClick:N,class:"w-full bg-yellow-50 text-blue-50 h-10 py-2 px-4 text-center rounded disabled:opacity-50 hover:bg-yellow-500",children:Object(n.jsx)(f.a,{href:"/login",children:O?Object(n.jsx)(l.a,{className:"animate-spin"}):"Reset Password"})})]})]})]})})})}},YFqc:function(e,t,r){e.exports=r("cTJO")},cTJO:function(e,t,r){"use strict";var n=r("J4zp"),a=r("284h");t.__esModule=!0,t.default=void 0;var c=a(r("q1tI")),o=r("elyg"),s=r("nOHt"),l=r("vNVm"),u={};function i(e,t,r,n){if(e&&(0,o.isLocalURL)(t)){e.prefetch(t,r,n).catch((function(e){0}));var a=n&&"undefined"!==typeof n.locale?n.locale:e&&e.locale;u[t+"%"+r+(a?"%"+a:"")]=!0}}var d=function(e){var t=!1!==e.prefetch,r=(0,s.useRouter)(),a=r&&r.pathname||"/",d=c.default.useMemo((function(){var t=(0,o.resolveHref)(a,e.href,!0),r=n(t,2),c=r[0],s=r[1];return{href:c,as:e.as?(0,o.resolveHref)(a,e.as):s||c}}),[a,e.href,e.as]),f=d.href,b=d.as,p=e.children,h=e.replace,v=e.shallow,j=e.scroll,x=e.locale;"string"===typeof p&&(p=c.default.createElement("a",null,p));var m=c.Children.only(p),g=m&&"object"===typeof m&&m.ref,w=(0,l.useIntersection)({rootMargin:"200px"}),O=n(w,2),y=O[0],E=O[1],N=c.default.useCallback((function(e){y(e),g&&("function"===typeof g?g(e):"object"===typeof g&&(g.current=e))}),[g,y]);(0,c.useEffect)((function(){var e=E&&t&&(0,o.isLocalURL)(f),n="undefined"!==typeof x?x:r&&r.locale,a=u[f+"%"+b+(n?"%"+n:"")];e&&!a&&i(r,f,b,{locale:n})}),[b,f,E,x,t,r]);var _={ref:N,onClick:function(e){m.props&&"function"===typeof m.props.onClick&&m.props.onClick(e),e.defaultPrevented||function(e,t,r,n,a,c,s,l){("A"!==e.currentTarget.nodeName||!function(e){var t=e.currentTarget.target;return t&&"_self"!==t||e.metaKey||e.ctrlKey||e.shiftKey||e.altKey||e.nativeEvent&&2===e.nativeEvent.which}(e)&&(0,o.isLocalURL)(r))&&(e.preventDefault(),null==s&&(s=n.indexOf("#")<0),t[a?"replace":"push"](r,n,{shallow:c,locale:l,scroll:s}))}(e,r,f,b,h,v,j,x)},onMouseEnter:function(e){(0,o.isLocalURL)(f)&&(m.props&&"function"===typeof m.props.onMouseEnter&&m.props.onMouseEnter(e),i(r,f,b,{priority:!0}))}};if(e.passHref||"a"===m.type&&!("href"in m.props)){var C="undefined"!==typeof x?x:r&&r.locale,k=r&&r.isLocaleDomain&&(0,o.getDomainLocale)(b,C,r&&r.locales,r&&r.domainLocales);_.href=k||(0,o.addBasePath)((0,o.addLocale)(b,C,r&&r.defaultLocale))}return c.default.cloneElement(m,_)};t.default=d},vNVm:function(e,t,r){"use strict";var n=r("J4zp");t.__esModule=!0,t.useIntersection=function(e){var t=e.rootMargin,r=e.disabled||!o,l=(0,a.useRef)(),u=(0,a.useState)(!1),i=n(u,2),d=i[0],f=i[1],b=(0,a.useCallback)((function(e){l.current&&(l.current(),l.current=void 0),r||d||e&&e.tagName&&(l.current=function(e,t,r){var n=function(e){var t=e.rootMargin||"",r=s.get(t);if(r)return r;var n=new Map,a=new IntersectionObserver((function(e){e.forEach((function(e){var t=n.get(e.target),r=e.isIntersecting||e.intersectionRatio>0;t&&r&&t(r)}))}),e);return s.set(t,r={id:t,observer:a,elements:n}),r}(r),a=n.id,c=n.observer,o=n.elements;return o.set(e,t),c.observe(e),function(){o.delete(e),c.unobserve(e),0===o.size&&(c.disconnect(),s.delete(a))}}(e,(function(e){return e&&f(e)}),{rootMargin:t}))}),[r,t,d]);return(0,a.useEffect)((function(){if(!o&&!d){var e=(0,c.requestIdleCallback)((function(){return f(!0)}));return function(){return(0,c.cancelIdleCallback)(e)}}}),[d]),[b,d]};var a=r("q1tI"),c=r("0G5g"),o="undefined"!==typeof IntersectionObserver;var s=new Map}},[["1v5r",0,2,4,6,3,7,8,1,5]]]);