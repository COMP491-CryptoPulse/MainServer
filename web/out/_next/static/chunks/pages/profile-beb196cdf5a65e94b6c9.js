_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[27],{"8QMV":function(e,t,c){(window.__NEXT_P=window.__NEXT_P||[]).push(["/profile",function(){return c("dmPs")}])},dmPs:function(e,t,c){"use strict";c.r(t),c.d(t,"default",(function(){return N}));var r=c("nKUr"),n=c("y5kw"),s=c("HEOa"),l=c("q1tI"),o=c("LcVh"),a=c("v7au"),i=c("0PHq"),d=function(e){var t=e.followType,c=e.followTarget,n=Object(s.d)(),o=n.user,d=n.updateUser,u=n.areNotificationsOn,j=Object(l.useState)(!1),b=j[0],x=j[1];return Object(l.useEffect)((function(){x(!1)}),[o]),Object(r.jsx)(i.a,{onClick:function(){return x(!0),void d("follow/update",{type:t,target:c,notify:!u(t,c)})},textColor:u(t,c)?"green-400":"yellow-400",fullWidth:!0,isDisabled:function(){return b},size:"lg",children:u(t,c)?Object(r.jsx)(a.c,{}):Object(r.jsx)(a.d,{})})},u=c("vU+/"),j=c("6lE0"),b=(c("YFqc"),c("PRV2")),x=c("RW2Z"),f=(c("ji1o"),c("lC1J")),O=function(e){var t=e.trigger,c=Object(s.d)().updateUser,n=Object(l.useCallback)((function(){c("trigger/delete",{id:t.id})}),[c,t]),o=Object(l.useCallback)((function(e){c("trigger/update",{id:t.id,time_window:e})}),[c,t]),a=Object(l.useCallback)((function(e){console.log(e),c("trigger/update",{id:t.id,threshold:e})}),[c,t]);return Object(r.jsxs)("div",{className:"flex flex-row items-center justify-between rounded px-4 py-2 bg-gray-900",children:[Object(r.jsxs)("div",{className:"flex flex-row justify-center items-center space-x-1",children:[Object(r.jsx)(b.c,{}),Object(r.jsx)("div",{children:"Notify when the posts increase by"}),Object(r.jsx)("div",{children:Object(r.jsx)(f.a,{options:["0%","1%","5%","10%","15%","20%","50%"],selected:t.threshold+"%",setSelected:function(e){return a(e.substring(0,e.length-1))}})}),Object(r.jsx)("div",{children:"within the last "}),Object(r.jsx)("div",{children:Object(r.jsx)(f.a,{options:["5m","10m","30m","1h","5h","12h","1d"],selected:t.time_window,setSelected:o})})]}),Object(r.jsx)("div",{className:"text-base",children:Object(r.jsx)("button",{onClick:n,className:"text-gray-700 hover:text-white",children:Object(r.jsx)(x.b,{})})})]})},h=c("Tgqd"),p=function(e){var t=e.follow,c=Object(s.d)().updateUser,n=Object(l.useState)(!1),a=n[0],x=n[1],f=Object(l.useMemo)((function(){return"source"===t.type&&!t.target.startsWith("*@")})),p=Object(l.useMemo)((function(){return"coin"===t.type?t.target.toUpperCase():f?t.target:Object(o.i)(t.target)[1]}),[t]),g=Object(l.useMemo)((function(){return"coin"===t.type?Object(o.c)(t.target):Object(o.g)(t.target)}),[t.type,t.target]),m=Object(l.useMemo)((function(){return"coin"===t.type?Object(o.d)(t.target):Object(o.h)(t.target)}),[t.type,t.target]),y=Object(l.useCallback)((function(e){c("trigger/create",{follow_id:e})}),[c]);return Object(r.jsxs)(j.a,{colorizer:function(){return"gray-850"},hoverColorizer:function(){return"gray-850"},aligned:!1,children:[Object(r.jsx)(j.a.Left,{}),Object(r.jsx)(j.a.Middle,{children:Object(r.jsxs)("div",{className:"flex flex-col space-y-2 text-xs text-".concat("gray-500"," p-2"),children:[Object(r.jsxs)("div",{className:"flex flex-row justify-center items-center space-x-2 \n                            text-lg text-".concat(g),children:[m,Object(r.jsx)("span",{className:"text-base truncate",children:p}),Object(r.jsx)("div",{className:"flex-grow"}),Object(r.jsxs)("div",{className:"flex flex-row space-x-2",children:[!f&&Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(i.a,{onClick:function(){return x(!a)},color:"".concat(a?"gray-900":"gray-780"),children:Object(r.jsxs)("div",{className:"flex flex-row space-x-1 items-center",children:[Object(r.jsx)("span",{children:Object(r.jsx)(b.c,{})}),Object(r.jsx)("span",{children:t.triggers.length}),Object(r.jsx)("span",{children:"triggers"})]})}),Object(r.jsx)(d,{followType:t.type,followTarget:t.target})]}),Object(r.jsx)(u.a,{followType:t.type,followTarget:t.target})]})]}),a&&!f&&Object(r.jsx)("div",{className:"flex flex-col space-y-2 lex-none",children:Object(r.jsxs)("div",{className:"flex flex-col space-y-1 max-h-36 overflow-scroll",children:[t.triggers.map((function(e){return Object(r.jsx)(O,{trigger:e})})),t.triggers.length<3&&Object(r.jsx)("div",{className:"flex flex-row text-sm justify-center items-center space-x-1 rounded py-2 bg-gray-900",children:Object(r.jsxs)("button",{className:"flex flex-row items-center space-x-1 hover:text-white",onClick:function(){return y(t.id)},children:[Object(r.jsx)(h.b,{}),Object(r.jsx)("span",{children:"New"})]})})]})})]})}),Object(r.jsx)(j.a.Right,{})]})},g=function(e){var t=e.children,c=e.options,n=e.width,s=void 0===n?"full":n,o=Object(l.useState)(0),a=o[0],i=o[1];return Object(r.jsxs)("div",{className:"flex flex-col space-y-2 w-".concat(s),children:[Object(r.jsx)("div",{className:"flex flex-row space-x-2",children:c.map((function(e,t){return Object(r.jsx)("button",{onClick:function(){return i(t)},className:"py-2 px-4 ".concat(a===t?"bg-gray-800":"opacity-70"," \n                          hover:opacity-100 rounded"),children:e})}))}),Object(r.jsx)("div",{children:t.map((function(e,t){return Object(r.jsx)("div",{className:"".concat(t!==a&&"hidden"),children:e})}))})]})},m=function(e){var t=e.options,c=e.onChange,n=void 0===c?function(){}:c,s=Object(l.useState)(0),o=s[0],a=s[1];return Object(l.useEffect)((function(){n(o)}),[o]),Object(r.jsx)("div",{className:"flex flex-col space-y-2",children:t.map((function(e,t){return Object(r.jsx)("button",{onClick:function(){return a(t)},className:"py-2 px-4 ".concat(o===t?"bg-gray-800":"opacity-70"," \n                          hover:opacity-100 rounded text-left"),children:e})}))})},y=function(e){var t=e.children,c=e.index;return t.map((function(e,t){return Object(r.jsx)("div",{className:"".concat(t!==c&&"hidden"),children:e})}))},w=c("ODXe"),v=function(e){var t=e.label,c=e.placeholder,n=e.type,s=e.errorMsg,o=e.isDisabled,a=void 0!==o&&o,i=e.checker,d=void 0===i?function(){return[!0,null]}:i,u=e.setCorrectValue,j=Object(l.useState)(""),b=j[0],x=j[1],f=Object(l.useState)(!1),O=f[0],h=f[1],p=Object(l.useState)(!0),g=p[0],m=p[1],y=Object(l.useState)(""),v=y[0],N=y[1];return Object(l.useEffect)((function(){if(O&&!g){var e=d(b),t=Object(w.a)(e,2),c=t[0],r=t[1];c?(N(""),u(b)):(N(r),u(null))}})),Object(l.useEffect)((function(){m(!0),N(s)}),[s]),Object(l.useEffect)((function(){m(!1)}),[b]),Object(r.jsxs)("div",{class:"flex flex-col space-y-2",children:[Object(r.jsxs)("label",{className:"block text-700 text-md font-bold mb-2",children:[t,Object(r.jsx)("input",{type:n,placeholder:c,onFocus:function(){return h(!0)},disabled:a,value:b,onChange:function(e){return x(e.currentTarget.value)},className:"mt-1 shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight\n            ".concat(""!==v?"border-red-500":null)})]}),Object(r.jsx)("p",{class:"text-red-500 text-xs italic mt-2 ml-1",children:v})]})};function N(){Object(s.c)();var e=Object(s.d)(),t=e.username,c=e.email,o=e.followedCoins,a=e.followedSources,i=e.delete_user,d=(e.updateUser,e.change_email),u=e.change_password,j=Object(l.useMemo)((function(){return a.filter((function(e){return e.target.startsWith("*@")}))}),[a]),b=Object(l.useMemo)((function(){return a.filter((function(e){return!e.target.startsWith("*@")}))}),[a]),x=Object(l.useState)(null),f=x[0],O=x[1],h=Object(l.useState)(null),w=h[0],N=h[1],C=Object(l.useState)(null),k=C[0],S=C[1],P=Object(l.useState)(!1),E=P[0],M=(P[1],Object(l.useState)(null)),D=M[0],_=M[1],H=Object(l.useState)(""),T=H[0],V=H[1],U=Object(l.useState)(""),F=U[0],q=U[1],Y=Object(l.useState)(""),A=Y[0],B=Y[1],I=Object(l.useState)(""),L=I[0],R=I[1],z=Object(l.useCallback)((function(e){return""===e?[!1,"This field is required."]:e.length<5?[!1,"Too short."]:[!0,null]}),[]),K=Object(l.useCallback)((function(e){return[/^\S+@\S+$/.test(e.toLowerCase()),"Invalid e-mail."]}),[]),W=Object(l.useMemo)((function(){return w&&k}),[w,k]),J=Object(l.useMemo)((function(){return w&&D}),[w,D]),Q=Object(l.useState)(0),X=Q[0],G=Q[1],Z=Object(l.useCallback)((function(e){e.preventDefault(),u(f,w,(function(e){B("Password changed.")}),(function(e){R("You have entered your current password wrong.")}))}),[W,w,f]),$=Object(l.useCallback)((function(e){e.preventDefault(),d(w,D,(function(e){q("Email changed.")}),(function(e){V("Email cannot be changed.")}))}),[J,w,D]);return Object(r.jsx)("div",{className:"animate-fade-in-down",children:Object(r.jsxs)("div",{className:"flex flex-row pt-2 space-x-2 justify-center",children:[Object(r.jsxs)("div",{children:[Object(r.jsxs)(n.a,{collapsable:!1,children:[Object(r.jsx)(n.a.Header,{}),Object(r.jsx)(n.a.Body,{children:Object(r.jsxs)("div",{className:"flex flex-col items-center space-y-2",children:[Object(r.jsx)("img",{style:{"border-radius":"50%"},width:64,height:64,src:"https://kstu.edu.tr/kstu-file/uploads/default-user-image.png"}),Object(r.jsx)("div",{children:t})]})})]}),Object(r.jsxs)(n.a,{collapsable:!1,children:[Object(r.jsx)(n.a.Header,{children:"Menu"}),Object(r.jsx)(n.a.Body,{children:Object(r.jsx)(m,{options:["Notification Settings","Account Settings","Delete Your Account"],onChange:G})})]})]}),Object(r.jsx)("div",{className:"w-128",children:Object(r.jsxs)(y,{index:X,children:[Object(r.jsxs)(n.a,{restrictedHeight:!1,collapsable:!1,children:[Object(r.jsx)(n.a.Header,{children:"Notification Settings"}),Object(r.jsx)(n.a.Body,{children:Object(r.jsxs)(g,{options:["Followed Coins","Followed Groups","Followed Users"],children:[Object(r.jsx)("div",{children:o.length>0?o.map((function(e){return Object(r.jsx)("div",{className:"mt-2",children:Object(r.jsx)(p,{follow:e})})})):"Not following any coins."}),Object(r.jsx)("div",{children:j.length>0?j.map((function(e){return Object(r.jsx)("div",{className:"mt-2",children:Object(r.jsx)(p,{follow:e})})})):"Not following any groups."}),Object(r.jsx)("div",{children:b.length>0?b.map((function(e){return Object(r.jsx)("div",{className:"mt-2",children:Object(r.jsx)(p,{follow:e})})})):"Not following any users."})]})})]}),Object(r.jsxs)(n.a,{restrictedHeight:!1,collapsable:!1,children:[Object(r.jsx)(n.a.Header,{children:"Account Settings"}),Object(r.jsx)(n.a.Body,{children:Object(r.jsxs)(g,{options:["Change Email","Change Password"],children:[Object(r.jsx)("div",{children:Object(r.jsxs)("form",{onSubmit:$,children:[""!==F?Object(r.jsx)("div",{class:"animate-fade-in-down bg-green-100 border border-green-400 text-sm text-green-700 px-4 py-3 mb-3 rounded relative",role:"alert",children:F}):null,""!==T?Object(r.jsx)("div",{class:"animate-fade-in-down bg-red-100 border border-red-400 text-sm text-red-700 px-4 py-3 mb-3 rounded relative",role:"alert",children:T}):null,Object(r.jsxs)("div",{className:"block text-700 text-md font-bold mb-2",children:["Your email: ",c," "]}),Object(r.jsx)(v,{type:"text",label:"Enter New E-mail",placeholder:"New e-mail",errorMsg:"",isDisabled:E,checker:K,setCorrectValue:_}),Object(r.jsx)(v,{type:"password",label:"Enter Password",placeholder:"Your password",errorMsg:"",isDisabled:E,checker:z,setCorrectValue:N}),Object(r.jsx)("button",{type:"submit",disabled:!J||E,class:"w-full bg-yellow-50 text-blue-50 h-10 py-2 px-4 text-center rounded disabled:opacity-50 hover:bg-yellow-500",children:E?Object(r.jsx)(AiOutlineLoading,{className:"animate-spin"}):"Change Email"})]})}),Object(r.jsx)("div",{children:Object(r.jsxs)("form",{onSubmit:Z,children:[""!==A?Object(r.jsx)("div",{class:"animate-fade-in-down bg-green-100 border border-green-400 text-sm text-green-700 px-4 py-3 mb-3 rounded relative",role:"alert",children:A}):null,""!==L?Object(r.jsx)("div",{class:"animate-fade-in-down bg-red-100 border border-red-400 text-sm text-red-700 px-4 py-3 mb-3 rounded relative",role:"alert",children:L}):null,Object(r.jsx)(v,{type:"password",label:"Enter Old Password",placeholder:"Old password",errorMsg:"",isDisabled:E,checker:z,setCorrectValue:O}),Object(r.jsx)(v,{type:"password",label:"Enter New Password",placeholder:"New password",errorMsg:"",isDisabled:E,checker:function(e){return[e!==f,"Your new password cannot be same as your old password"]},setCorrectValue:N}),Object(r.jsx)(v,{type:"password",label:"Password (again)",placeholder:"Re-enter your new password",errorMsg:"",isDisabled:E,checker:function(e){return[e===w,"Passwords do not match"]},setCorrectValue:S}),Object(r.jsx)("button",{type:"submit",disabled:!W||E,class:"w-full bg-yellow-50 text-blue-50 h-10 py-2 px-4 text-center rounded disabled:opacity-50 hover:bg-yellow-500",children:E?Object(r.jsx)(AiOutlineLoading,{className:"animate-spin"}):"Change Password"})]})})]})})]}),Object(r.jsxs)(n.a,{restrictedHeight:!1,collapsable:!1,children:[Object(r.jsx)(n.a.Header,{children:"Delete Your Account"}),Object(r.jsxs)(n.a.Body,{children:[Object(r.jsx)("div",{children:"Your account will be deleted permanently."}),Object(r.jsx)("div",{children:Object(r.jsx)("button",{className:"bg-yellow-50 text-blue-50 py-2 px-4 my-5 rounded",onClick:i,children:"Delete Account"})})]})]})]})})]})})}},ji1o:function(e,t,c){"use strict";c.d(t,"a",(function(){return l}));var r=c("nKUr"),n=c("q1tI"),s=c("PRV2"),l=function(e){var t=e.options,c=e.selected,l=e.setSelected,o=void 0===l?function(){}:l,a=Object(n.useMemo)((function(){return t.findIndex((function(e){return e===c}))}),[t,c]),i=Object(n.useCallback)((function(){var e=(a+1)%t.length;o(t[e])}),[a,c]);return t&&c&&o&&Object(r.jsx)("div",{children:Object(r.jsxs)("button",{type:"button",className:"flex z-0 items-center px-2 py-1 rounded-md \n                        bg-".concat("gray-800"," text-").concat("gray-200"," hover:bg-").concat("gray-700"),onClick:i,children:[Object(r.jsx)("span",{children:"descending"===c?Object(r.jsx)(s.e,{}):"ascending"===c?Object(r.jsx)(s.d,{}):null}),Object(r.jsx)("span",{children:c})]})})}},lC1J:function(e,t,c){"use strict";c.d(t,"a",(function(){return j}));var r=c("nKUr"),n=c("rePB"),s=c("q1tI"),l=c("pGKQ");function o(e,t){var c=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),c.push.apply(c,r)}return c}function a(e){for(var t=1;t<arguments.length;t++){var c=null!=arguments[t]?arguments[t]:{};t%2?o(Object(c),!0).forEach((function(t){Object(n.a)(e,t,c[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(c)):o(Object(c)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(c,t))}))}return e}var i="gray-800",d="gray-700",u="gray-200",j=function(e){var t=e.options,c=e.selected,n=e.setSelected,o=Object(s.useState)(!1),j=o[0],b=o[1],x=Object(l.c)({isOpen:j,onOutsideClick:function(){return b(!1)},placement:"bottom-center",triggerOffset:8}),f=x.triggerProps,O=x.layerProps,h=x.arrowProps,p=x.renderLayer;return t&&c&&n&&Object(r.jsxs)("div",{className:"relative inline-block text-left text-xs",children:[Object(r.jsx)("div",{children:Object(r.jsx)("button",a(a({},f),{},{type:"button",className:"flex items-center px-2 py-1 rounded-md bg-".concat(i," text-").concat(u," hover:bg-").concat(d),onClick:function(){return b(!j)},children:Object(r.jsx)("span",{children:c})}))}),j&&p(Object(r.jsxs)("div",a(a({},O),{},{className:"z-50",children:[Object(r.jsx)("div",{className:"flex flex-col w-24 shadow-lg text-xs text-".concat(u," rounded-lg overflow-hidden"),children:t.filter((function(e){return e!==c})).map((function(e){return Object(r.jsx)("button",{onClick:function(){b(!1),n(e)},className:"px-3 py-2 bg-".concat(i," hover:bg-").concat(d),children:e})}))}),Object(r.jsx)(l.a,a({backgroundColor:"rgb(33,41,54)"},h))]})))]})}},y5kw:function(e,t,c){"use strict";c.d(t,"a",(function(){return d}));var r=c("nKUr"),n=c("q1tI"),s=c("PRV2"),l=function(){return null},o=function(){return null},a=function(){return null},i="transparent",d=function(e){var t=e.children,c=e.collapsable,d=void 0===c||c,u=e.restrictedHeight,j=void 0===u||u,b=e.headerDivisior,x=void 0!==b&&b,f=e.width,O=void 0===f?"full":f,h=t.find((function(e){return e.type===l})),p=t.find((function(e){return e.type===o})),g=t.find((function(e){return e.type===a})),m=Object(n.useState)(!0),y=m[0],w=m[1];return Object(n.useMemo)((function(){return Object(r.jsxs)("div",{className:"text-".concat("gray-100"," text-sm mb-2 w-").concat(O),children:[Object(r.jsxs)("div",{className:"text-".concat("gray-100"," bg-").concat("gray-900"," ").concat(x&&"drop-shadow-md"," ").concat(d&&"cursor-pointer"," flex flex-justify-between ").concat(y?"rounded-t-md":"rounded-md"," py-4 px-5"),onClick:function(){return w(!d||!y)},children:[Object(r.jsx)("div",{className:"font-bold text-md w-full",children:h&&h.props.children}),d&&Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("span",{className:"flex-grow"}),y?Object(r.jsx)(s.b,{}):Object(r.jsx)(s.a,{})]})]}),y&&Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("div",{className:"".concat(g?"":"rounded-b border-b"," ").concat(j?"max-h-80":""," overflow-y-auto bg-").concat("gray-900"," border-r border-l border-b border-").concat(i," pb-4 px-5"),children:p&&p.props.children}),g&&Object(r.jsx)("div",{className:"overflow-y-auto bg-".concat("gray-900"," rounded-b-md text-md border-b border-r border-l border-").concat(i," py-2 px-5"),children:g.props.children})]})]})}))};d.Header=l,d.Body=o,d.Footer=a}},[["8QMV",0,2,4,6,3,7,9,11,1,5,10,14]]]);